<!--
Auto Scroll Navbar
@desc: this is a web implementation of native android autoscroll navbar
@dependency: jQuery
-->

<!doctype html>
<html>
  <head>
    <title>Auto Scroll Nav Bar</title>
    <script type="text/javascript" src="http://code.jquery.com/jquery-2.1.3.min.js"></script>
    <style type="text/css">
    *{margin:0;padding:0;}html, body{color:#c0c0c0;font-size:20px;height:100%;width:100%;}header, section{display:block;width:100%;margin:0;padding:0;position:relative;}section{font-size:40px;position:absolute;top:100px;}nav{overflow-x:scroll;-webkit-overflow-scrolling:touch;width:100%;position:fixed;top:0;left:0;}ul{list-style:none;display:table;width:100%;height:50px;margin:0;padding:0;}li{display:table-cell;padding:20px 40px;text-align:center;}a{color:#c0c0c0;font-size:40px;text-decoration:none;}a:hover, a:visited{color:#c0c0c0;}article{display:table;margin:0 auto;padding:8px;vertical-align:top;}article div{display:table-cell;position:relative;vertical-align:middle;}article div:nth-of-type(1){left:calc(50% - 120px);z-index:2;}article div:nth-of-type(1) img{  width:240px;}article div:nth-of-type(2){left:calc(-50% + 105px);}article div:nth-of-type(2) img{width:210px;z-index:1;}article div:nth-of-type(3){left:-15px;}article div:nth-of-type(3) img{width:210px;z-index:1;}.selected{border-bottom:1px solid #ccc;}::-webkit-scrollbar{width:20px;}::-webkit-scrollbar-thumb{background:white;}
    </style>
  </head>
  <body>
    <header>
      <nav role="navigation">
        <ul>
          <li class="selected"><a href="#">Apple</a></li>
          <li><a href="#">Banana</a></li>
          <li><a href="#">Cherry</a></li>
          <li><a href="#">Dragonfruit</a></li>
          <li><a href="#">Fig</a></li>
          <li><a href="#">Guava</a></li>
          <li><a href="#">Kiwi</a></li>
          <li><a href="#">Lychee</a></li>
          <li><a href="#">Mango</a></li>
          <li><a href="#">Nectarine</a></li>
          <li><a href="#">Pluot</a></li>
          <li><a href="#">Soursop</a></li>
        </ul>
      </nav>
    </header>
    <section id="main">
      <article>
        <div><img src="http://images.huffingtonpost.com/2010-07-18-Searching_NYC_for_Perfect_Pooch_C.jpg" /></div>
        <div><img src="http://images.huffingtonpost.com/2010-07-18-Searching_NYC_for_Perfect_Pooch_C.jpg" /></div>
        <div><img src="http://images.huffingtonpost.com/2010-07-18-Searching_NYC_for_Perfect_Pooch_C.jpg" /></div>
      </article>
    </section>
    <script type="text/javascript">
    $('nav li a').on('click', scrollNavbar);

    function scrollNavbar(e) {
      var 
        target = $(e.target).parent()[0],
        li = $('nav li'),
        nav = $('nav'), 
        target_index = li.index(target),
        semi_target_width = target.getBoundingClientRect().width / 2, 
        semi_screen_width = nav.width() / 2, 
        distance = null, 
        i = 0;

      if (target_index == 0) {
        distance = target_index;
      } else {
        for (i = 0; i < target_index; i++) {
          distance += li[i].getBoundingClientRect().width;
        }
      }
      $('.selected').removeAttr('class');
      target.className = 'selected';
      nav.animate({scrollLeft: distance + semi_target_width - semi_screen_width + 'px'}, 600);
    }
    </script>
  </body>
</html>
